angular.module("ui.bootstrap",["ui.bootstrap.buttons","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.transition","ui.bootstrap.modal","ui.bootstrap.timepicker","ui.bootstrap.bindHtml","ui.bootstrap.tooltip"]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,o){var i=o[0],a=o[1];a.$render=function(){t.toggleClass(i.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){t.hasClass(i.activeClass)||e.$apply(function(){a.$setViewValue(e.$eval(n.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,o){function i(){return r(n.btnCheckboxTrue,!0)}function a(){return r(n.btnCheckboxFalse,!1)}function r(t,n){var o=e.$eval(t);return angular.isDefined(o)?o:n}var l=o[0],u=o[1];u.$render=function(){t.toggleClass(l.activeClass,angular.equals(u.$modelValue,i()))},t.bind(l.toggleEvent,function(){e.$apply(function(){u.$setViewValue(t.hasClass(l.activeClass)?a():i()),u.$render()})})}}}),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function o(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&o(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),o={top:0,left:0},a=i(t[0]);a!=e[0]&&(o=this.offset(angular.element(a)),o.top+=a.clientTop-a.scrollTop,o.left+=a.clientLeft-a.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-o.top,left:n.left-o.left}},offset:function(n){var o=n[0].getBoundingClientRect();return{width:o.width||n.prop("offsetWidth"),height:o.height||n.prop("offsetHeight"),top:o.top+(t.pageYOffset||e[0].body.scrollTop||e[0].documentElement.scrollTop),left:o.left+(t.pageXOffset||e[0].body.scrollLeft||e[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(e,t,n,o){function i(t,n){return angular.isDefined(t)?e.$parent.$eval(t):n}function a(e,t){return new Date(e,t,0).getDate()}function r(e,t){for(var n=new Array(t),o=e,i=0;t>i;)n[i++]=new Date(o),o.setDate(o.getDate()+1);return n}function l(e,t,o,i){return{date:e,label:n(e,t),selected:!!o,secondary:!!i}}var u={day:i(t.dayFormat,o.dayFormat),month:i(t.monthFormat,o.monthFormat),year:i(t.yearFormat,o.yearFormat),dayHeader:i(t.dayHeaderFormat,o.dayHeaderFormat),dayTitle:i(t.dayTitleFormat,o.dayTitleFormat),monthTitle:i(t.monthTitleFormat,o.monthTitleFormat)},s=i(t.startingDay,o.startingDay),c=i(t.yearRange,o.yearRange);this.minDate=o.minDate?new Date(o.minDate):null,this.maxDate=o.maxDate?new Date(o.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(e,t){var o=e.getFullYear(),i=e.getMonth(),c=new Date(o,i,1),d=s-c.getDay(),p=d>0?7-d:-d,f=new Date(c),m=0;p>0&&(f.setDate(-p+1),m+=p),m+=a(o,i+1),m+=(7-m%7)%7;for(var g=r(f,m),v=new Array(7),h=0;m>h;h++){var $=new Date(g[h]);g[h]=l($,u.day,t&&t.getDate()===$.getDate()&&t.getMonth()===$.getMonth()&&t.getFullYear()===$.getFullYear(),$.getMonth()!==i)}for(var b=0;7>b;b++)v[b]=n(g[b].date,u.dayHeader);return{objects:g,title:n(e,u.dayTitle),labels:v}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(e,t){for(var o=new Array(12),i=e.getFullYear(),a=0;12>a;a++){var r=new Date(i,a,1);o[a]=l(r,u.month,t&&t.getMonth()===a&&t.getFullYear()===i)}return{objects:o,title:n(e,u.monthTitle)}},compare:function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(e,t){for(var n=new Array(c),o=e.getFullYear(),i=parseInt((o-1)/c,10)*c+1,a=0;c>a;a++){var r=new Date(i+a,0,1);n[a]=l(r,u.year,t&&t.getFullYear()===r.getFullYear())}return{objects:n,title:[n[0].label,n[c-1].label].join(" - ")}},compare:function(e,t){return e.getFullYear()-t.getFullYear()},split:5,step:{years:c}}],this.isDisabled=function(t,n){var o=this.modes[n||0];return this.minDate&&o.compare(t,this.minDate)<0||this.maxDate&&o.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:o.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(e,t,n,o){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,i,a,r){function l(){e.showWeekNumbers=0===m&&v}function u(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function s(t){var n=null,i=!0;f.$modelValue&&(n=new Date(f.$modelValue),isNaN(n)?(i=!1,o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):t&&(g=n)),f.$setValidity("date",i);var a=p.modes[m],r=a.getVisibleDates(g,n);angular.forEach(r.objects,function(e){e.disabled=p.isDisabled(e.date,m)}),f.$setValidity("date-disabled",!n||!p.isDisabled(n)),e.rows=u(r.objects,a.split),e.labels=r.labels||[],e.title=r.title}function c(e){m=e,l(),s()}function d(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var p=r[0],f=r[1];if(f){var m=0,g=new Date,v=n.showWeeks;a.showWeeks?e.$parent.$watch(t(a.showWeeks),function(e){v=!!e,l()}):l(),a.min&&e.$parent.$watch(t(a.min),function(e){p.minDate=e?new Date(e):null,s()}),a.max&&e.$parent.$watch(t(a.max),function(e){p.maxDate=e?new Date(e):null,s()}),f.$render=function(){s(!0)},e.select=function(e){if(0===m){var t=f.$modelValue?new Date(f.$modelValue):new Date(0,0,0,0,0,0,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),f.$setViewValue(t),s(!0)}else g=e,c(m-1)},e.move=function(e){var t=p.modes[m].step;g.setMonth(g.getMonth()+e*(t.months||0)),g.setFullYear(g.getFullYear()+e*(t.years||0)),s()},e.toggleMode=function(){c((m+1)%p.modes.length)},e.getWeekNumber=function(t){return 0===m&&e.showWeekNumbers&&7===t.length?d(t[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"Today",toggleWeeksText:"Weeks",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig",function(e,t,n,o,i,a,r){return{restrict:"EA",require:"ngModel",link:function(l,u,s,c){function d(e){w?w(l,!!e):v.isOpen=!!e}function p(e){if(e){if(angular.isDate(e))return c.$setValidity("date",!0),e;if(angular.isString(e)){var t=new Date(e);return isNaN(t)?(c.$setValidity("date",!1),void 0):(c.$setValidity("date",!0),t)}return c.$setValidity("date",!1),void 0}return c.$setValidity("date",!0),null}function f(e,n,o){e&&(l.$watch(t(e),function(e){v[n]=e}),T.attr(o||n,n))}function m(){v.position=$?o.offset(u):o.position(u),v.position.top=v.position.top+u.prop("offsetHeight")}var g,v=l.$new(),h=angular.isDefined(s.closeOnDateSelection)?l.$eval(s.closeOnDateSelection):a.closeOnDateSelection,$=angular.isDefined(s.datepickerAppendToBody)?l.$eval(s.datepickerAppendToBody):a.appendToBody;s.$observe("datepickerPopup",function(e){g=e||a.dateFormat,c.$render()}),v.showButtonBar=angular.isDefined(s.showButtonBar)?l.$eval(s.showButtonBar):a.showButtonBar,l.$on("$destroy",function(){E.remove(),v.$destroy()}),s.$observe("currentText",function(e){v.currentText=angular.isDefined(e)?e:a.currentText}),s.$observe("toggleWeeksText",function(e){v.toggleWeeksText=angular.isDefined(e)?e:a.toggleWeeksText}),s.$observe("clearText",function(e){v.clearText=angular.isDefined(e)?e:a.clearText}),s.$observe("closeText",function(e){v.closeText=angular.isDefined(e)?e:a.closeText});var b,w;s.isOpen&&(b=t(s.isOpen),w=b.assign,l.$watch(b,function(e){v.isOpen=!!e})),v.isOpen=b?b(l):!1;var y=function(e){v.isOpen&&e.target!==u[0]&&v.$apply(function(){d(!1)})},D=function(){v.$apply(function(){d(!0)})},k=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");k.attr({"ng-model":"date","ng-change":"dateSelection()"});var T=angular.element(k.children()[0]),M={};s.datepickerOptions&&(M=l.$eval(s.datepickerOptions),T.attr(angular.extend({},M))),c.$parsers.unshift(p),v.dateSelection=function(e){angular.isDefined(e)&&(v.date=e),c.$setViewValue(v.date),c.$render(),h&&d(!1)},u.bind("input change keyup",function(){v.$apply(function(){v.date=c.$modelValue})}),c.$render=function(){var e=c.$viewValue?i(c.$viewValue,g):"";u.val(e),v.date=c.$modelValue},f(s.min,"min"),f(s.max,"max"),s.showWeeks?f(s.showWeeks,"showWeeks","show-weeks"):(v.showWeeks="show-weeks"in M?M["show-weeks"]:r.showWeeks,T.attr("show-weeks","showWeeks")),s.dateDisabled&&T.attr("date-disabled",s.dateDisabled);var C=!1,F=!1;v.$watch("isOpen",function(e){e?(m(),n.bind("click",y),F&&u.unbind("focus",D),u[0].focus(),C=!0):(C&&n.unbind("click",y),u.bind("focus",D),F=!0),w&&w(l,e)}),v.today=function(){v.dateSelection(new Date)},v.clear=function(){v.dateSelection(null)};var E=e(k)(v);$?n.find("body").append(E):u.after(E)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function o(e){for(var t in e)if(void 0!==a.style[t])return e[t]}var i=function(o,a,r){r=r||{};var l=e.defer(),u=i[r.animation?"animationEndEventName":"transitionEndEventName"],s=function(){n.$apply(function(){o.unbind(u,s),l.resolve(o)})};return u&&o.bind(u,s),t(function(){angular.isString(a)?o.addClass(a):angular.isFunction(a)?a(o):angular.isObject(a)&&o.css(a),u||l.resolve(o)}),l.promise.cancel=function(){u&&o.unbind(u,s),l.reject("Transition cancelled")},l.promise},a=document.createElement("trans"),r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=o(r),i.animationEndEventName=o(l),i}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,o=0;o<e.length;o++)if(t==e[o].key){n=o;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t){t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(n,o,i){n.windowClass=i.windowClass||"",t(function(){n.animate=!0,o[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,o,i,a){function r(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function l(e){var t=n.find("body").eq(0),o=f.get(e).value;f.remove(e),s(o.modalDomEl,o.modalScope,300,u),t.toggleClass(p,f.length()>0)}function u(){if(c&&-1==r()){var e=d;s(c,d,150,function(){e.$destroy(),e=null}),c=void 0,d=void 0}}function s(n,o,i,a){function r(){r.done||(r.done=!0,n.remove(),a&&a())}o.animate=!1;var l=e.transitionEndEventName;if(l){var u=t(r,i);n.bind(l,function(){t.cancel(u),r(),o.$apply()})}else t(r,0)}var c,d,p="modal-open",f=a.createNew(),m={};return i.$watch(r,function(e){d&&(d.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=f.top(),t&&t.value.keyboard&&i.$apply(function(){m.dismiss(t.key)}))}),m.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var a=n.find("body").eq(0),l=r();l>=0&&!c&&(d=i.$new(!0),d.index=l,c=o("<div modal-backdrop></div>")(d),a.append(c));var u=angular.element("<div modal-window></div>");u.attr("window-class",t.windowClass),u.attr("index",f.length()-1),u.attr("animate","animate"),u.html(t.content);var s=o(u)(t.scope);f.top().value.modalDomEl=s,a.append(s),a.addClass(p)},m.close=function(e,t){var n=f.get(e).value;n&&(n.deferred.resolve(t),l(e))},m.dismiss=function(e,t){var n=f.get(e).value;n&&(n.deferred.reject(t),l(e))},m.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},m.getTop=function(){return f.top()},m}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,o,i,a,r,l){function u(e){return e.template?o.when(e.template):i.get(e.templateUrl,{cache:a}).then(function(e){return e.data})}function s(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(o.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var i=o.defer(),a=o.defer(),c={result:i.promise,opened:a.promise,close:function(e){l.close(c,e)},dismiss:function(e){l.dismiss(c,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=o.all([u(t)].concat(s(t.resolve)));return d.then(function(e){var o=(t.scope||n).$new();o.$close=c.close,o.$dismiss=c.dismiss;var a,u={},s=1;t.controller&&(u.$scope=o,u.$modalInstance=c,angular.forEach(t.resolve,function(t,n){u[n]=e[s++]}),a=r(t.controller,u)),l.open(c,{scope:o,deferred:i,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,windowClass:t.windowClass})},function(e){i.reject(e)}),d.then(function(){a.resolve(!0)},function(){a.reject(!1)}),c},c}]};return e}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig","$locale",function(e,t,n,o){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(i,a,r,l){function u(){var e=parseInt(i.hours,10),t=i.showMeridian?e>0&&13>e:e>=0&&24>e;return t?(i.showMeridian&&(12===e&&(e=0),i.meridian===v[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(i.minutes,10);return e>=0&&60>e?e:void 0}function c(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function d(e){p(),l.$setViewValue(new Date(g)),f(e)}function p(){l.$setValidity("time",!0),i.invalidHours=!1,i.invalidMinutes=!1}function f(e){var t=g.getHours(),n=g.getMinutes();i.showMeridian&&(t=0===t||12===t?12:t%12),i.hours="h"===e?t:c(t),i.minutes="m"===e?n:c(n),i.meridian=g.getHours()<12?v[0]:v[1]}function m(e){var t=new Date(g.getTime()+6e4*e);g.setHours(t.getHours(),t.getMinutes()),d()}if(l){var g=new Date,v=angular.isDefined(r.meridians)?i.$parent.$eval(r.meridians):n.meridians||o.DATETIME_FORMATS.AMPMS,h=n.hourStep;r.hourStep&&i.$parent.$watch(e(r.hourStep),function(e){h=parseInt(e,10)});var $=n.minuteStep;r.minuteStep&&i.$parent.$watch(e(r.minuteStep),function(e){$=parseInt(e,10)}),i.showMeridian=n.showMeridian,r.showMeridian&&i.$parent.$watch(e(r.showMeridian),function(e){if(i.showMeridian=!!e,l.$error.time){var t=u(),n=s();angular.isDefined(t)&&angular.isDefined(n)&&(g.setHours(t),d())}else f()});var b=a.find("input"),w=b.eq(0),y=b.eq(1),D=angular.isDefined(r.mousewheel)?i.$eval(r.mousewheel):n.mousewheel;if(D){var k=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};w.bind("mousewheel wheel",function(e){i.$apply(k(e)?i.incrementHours():i.decrementHours()),e.preventDefault()}),y.bind("mousewheel wheel",function(e){i.$apply(k(e)?i.incrementMinutes():i.decrementMinutes()),e.preventDefault()})}if(i.readonlyInput=angular.isDefined(r.readonlyInput)?i.$eval(r.readonlyInput):n.readonlyInput,i.readonlyInput)i.updateHours=angular.noop,i.updateMinutes=angular.noop;else{var T=function(e,t){l.$setViewValue(null),l.$setValidity("time",!1),angular.isDefined(e)&&(i.invalidHours=e),angular.isDefined(t)&&(i.invalidMinutes=t)};i.updateHours=function(){var e=u();angular.isDefined(e)?(g.setHours(e),d("h")):T(!0)},w.bind("blur",function(){!i.validHours&&i.hours<10&&i.$apply(function(){i.hours=c(i.hours)})}),i.updateMinutes=function(){var e=s();angular.isDefined(e)?(g.setMinutes(e),d("m")):T(void 0,!0)},y.bind("blur",function(){!i.invalidMinutes&&i.minutes<10&&i.$apply(function(){i.minutes=c(i.minutes)})})}l.$render=function(){var e=l.$modelValue?new Date(l.$modelValue):null;isNaN(e)?(l.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(g=e),p(),f())},i.incrementHours=function(){m(60*h)},i.decrementHours=function(){m(60*-h)},i.incrementMinutes=function(){m($)},i.decrementMinutes=function(){m(-$)},i.toggleMeridian=function(){m(720*(g.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},o={};this.options=function(e){angular.extend(o,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,a,r,l,u,s,c){return function(i,d,p){function f(e){var t=e||m.trigger||p,o=n[t]||t;return{show:t,hide:o}}var m=angular.extend({},t,o),g=e(i),v=c.startSymbol(),h=c.endSymbol(),$="<div "+g+'-popup title="'+v+"tt_title"+h+'" content="'+v+"tt_content"+h+'" placement="'+v+"tt_placement"+h+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var e=a($);return function(t,n,o){function a(){t.tt_isOpen?p():c()}function c(){(!M||t.$eval(o[d+"Enable"]))&&(t.tt_popupDelay?(y=r(g,t.tt_popupDelay,!1),y.then(function(e){e()})):g()())}function p(){t.$apply(function(){v()})}function g(){return t.tt_content?(h(),w&&r.cancel(w),b.css({top:0,left:0,display:"block"}),D?u.find("body").append(b):n.after(b),C(),t.tt_isOpen=!0,t.$digest(),C):angular.noop}function v(){t.tt_isOpen=!1,r.cancel(y),t.tt_animation?w=r($,500):$()}function h(){b&&$(),b=e(t,function(){}),t.$digest()}function $(){b&&(b.remove(),b=null)}var b,w,y,D=angular.isDefined(m.appendToBody)?m.appendToBody:!1,k=f(void 0),T=!1,M=angular.isDefined(o[d+"Enable"]),C=function(){var e,o,i,a;switch(e=D?s.offset(n):s.position(n),o=b.prop("offsetWidth"),i=b.prop("offsetHeight"),t.tt_placement){case"right":a={top:e.top+e.height/2-i/2,left:e.left+e.width};break;case"bottom":a={top:e.top+e.height,left:e.left+e.width/2-o/2};break;case"left":a={top:e.top+e.height/2-i/2,left:e.left-o};break;default:a={top:e.top-i,left:e.left+e.width/2-o/2}}a.top+="px",a.left+="px",b.css(a)};t.tt_isOpen=!1,o.$observe(i,function(e){t.tt_content=e,!e&&t.tt_isOpen&&v()}),o.$observe(d+"Title",function(e){t.tt_title=e}),o.$observe(d+"Placement",function(e){t.tt_placement=angular.isDefined(e)?e:m.placement}),o.$observe(d+"PopupDelay",function(e){var n=parseInt(e,10);t.tt_popupDelay=isNaN(n)?m.popupDelay:n});var F=function(){T&&(n.unbind(k.show,c),n.unbind(k.hide,p))};o.$observe(d+"Trigger",function(e){F(),k=f(e),k.show===k.hide?n.bind(k.show,a):(n.bind(k.show,c),n.bind(k.hide,p)),T=!0});var E=t.$eval(o[d+"Animation"]);t.tt_animation=angular.isDefined(E)?!!E:m.animation,o.$observe(d+"AppendToBody",function(e){D=angular.isDefined(e)?l(e)(t):D}),D&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&v()}),t.$on("$destroy",function(){r.cancel(w),r.cancel(y),F(),$()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]);