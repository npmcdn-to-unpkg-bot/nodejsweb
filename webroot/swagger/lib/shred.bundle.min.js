var require=function(e,t){var r=require.resolve(e,t||"/"),n=require.modules[r];if(!n)throw new Error("Failed to resolve module "+e+", tried "+r);var o=n._cached?n._cached:n();return o};require.paths=[],require.modules={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(){return function(e,t){function r(e){if(require.modules[e])return e;for(var t=0;t<require.extensions.length;t++){var r=require.extensions[t];if(require.modules[e+r])return e+r}}function n(e){e=e.replace(/\/+$/,"");var t=e+"/package.json";if(require.modules[t]){var n=require.modules[t](),o=n.browserify;if("object"==typeof o&&o.main){var i=r(s.resolve(e,o.main));if(i)return i}else if("string"==typeof o){var i=r(s.resolve(e,o));if(i)return i}else if(n.main){var i=r(s.resolve(e,n.main));if(i)return i}}return r(e+"/index")}function o(e,t){for(var o=i(t),s=0;s<o.length;s++){var a=o[s],u=r(a+"/"+e);if(u)return u;var c=n(a+"/"+e);if(c)return c}var u=r(e);return u?u:void 0}function i(e){var t;t="/"===e?[""]:s.normalize(e).split("/");for(var r=[],n=t.length-1;n>=0;n--)if("node_modules"!==t[n]){var o=t.slice(0,n+1).join("/")+"/node_modules";r.push(o)}return r}if(t||(t="/"),require._core[e])return e;var s=require.modules.path(),a=t||".";if(e.match(/^(?:\.\.?\/|\/)/)){var u=r(s.resolve(a,e))||n(s.resolve(a,e));if(u)return u}var c=o(e,a);if(c)return c;throw new Error("Cannot find module '"+e+"'")}}(),require.alias=function(e,t){var r=require.modules.path(),n=null;try{n=require.resolve(e+"/package.json","/")}catch(o){n=require.resolve(e,"/")}for(var i=r.dirname(n),s=(Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t})(require.modules),a=0;a<s.length;a++){var u=s[a];if(u.slice(0,i.length+1)===i+"/"){var c=u.slice(i.length);require.modules[t+c]=require.modules[i+c]}else u===i&&(require.modules[t]=require.modules[i])}},require.define=function(e,t){var r=require._core[e]?"":require.modules.path().dirname(e),n=function(e){return require(e,r)};n.resolve=function(e){return require.resolve(e,r)},n.modules=require.modules,n.define=require.define;var o={exports:{}};require.modules[e]=function(){return require.modules[e]._cached=o.exports,t.call(o.exports,n,o,o.exports,r,e),require.modules[e]._cached=o.exports,o.exports}},"undefined"==typeof process&&(process={}),process.nextTick||(process.nextTick=function(){var e=[],t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;return t&&window.addEventListener("message",function(t){if(t.source===window&&"browserify-tick"===t.data&&(t.stopPropagation(),e.length>0)){var r=e.shift();r()}},!0),function(r){t?(e.push(r),window.postMessage("browserify-tick","*")):setTimeout(r,0)}}()),process.title||(process.title="browser"),process.binding||(process.binding=function(e){if("evals"===e)return require("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),require.define("path",function(e,t,r){function n(e,t){for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}function o(e,t){for(var r=0,n=e.length;n>=0;n--){var o=e[n];"."==o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var i=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;r.resolve=function(){for(var e="",t=!1,r=arguments.length;r>=-1&&!t;r--){var i=r>=0?arguments[r]:process.cwd();"string"==typeof i&&i&&(e=i+"/"+e,t="/"===i.charAt(0))}return e=o(n(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},r.normalize=function(e){var t="/"===e.charAt(0),r="/"===e.slice(-1);return e=o(n(e.split("/"),function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e){return e&&"string"==typeof e}).join("/"))},r.dirname=function(e){var t=i.exec(e)[1]||"",r=!1;return t?1===t.length||r&&t.length<=3&&":"===t.charAt(1)?t:t.substring(0,t.length-1):"."},r.basename=function(e,t){var r=i.exec(e)[2]||"";return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return i.exec(e)[3]||""}}),require.define("/shred.js",function(e,t){var r=e("ax"),n=e("cookiejar"),o=n.CookieJar,i=function(e){e=e||{},this.agent=e.agent,this.defaults=e.defaults||{},this.log=e.logger||new r({level:"info"}),this._sharedCookieJar=new o,this.logCurl=e.logCurl||!1};i.Request=e("./shred/request"),i.Response=e("./shred/response"),i.prototype={request:function(e){e.logger=this.log,e.logCurl=e.logCurl||this.logCurl,e.cookieJar="cookieJar"in e?e.cookieJar:this._sharedCookieJar,e.agent=e.agent||this.agent;for(var t in this.defaults)this.defaults.hasOwnProperty(t)&&!e[t]&&(e[t]=this.defaults[t]);return new i.Request(e)}},"get put post delete".split(" ").forEach(function(e){i.prototype[e]=function(t){return t.method=e,this.request(t)}}),t.exports=i}),require.define("/node_modules/ax/package.json",function(e,t){t.exports={main:"./lib/ax.js"}}),require.define("/node_modules/ax/lib/ax.js",function(e,t){var r=(e("util").inspect,e("fs")),n=function(e){var t=this,e=e||{};switch(e.level=e.level||"info",e.timestamp=e.timestamp||!0,e.prefix=e.prefix||"",t.options=e,t.options.module&&(t.options.prefix=t.options.module),t.options.file?t.stream=r.createWriteStream(t.options.file,{flags:"a"}):"node"===process.title?t.stream=process.stderr:"browser"===process.title&&(t.stream=function(){return console[t.options.level].apply(console,arguments)}),t.options.level){case"debug":["debug","info","warn"].forEach(function(e){t[e]=n.writer(e)});case"info":["info","warn"].forEach(function(e){t[e]=n.writer(e)});case"warn":t.warn=n.writer("warn")}};n.writer=function(e){return function(t){var r=this;"node"===process.title?r.stream.write(r.format(e,t)+"\n"):"browser"===process.title&&r.stream(r.format(e,t)+"\n")}},n.prototype={info:function(){},debug:function(){},warn:function(){},error:n.writer("error"),format:function(e,t){if(!t)return"";var r=this,n=r.options.prefix,o=r.options.timestamp?" "+(new Date).toISOString():"";return n+o+": "+t}},t.exports=n}),require.define("util",function(){}),require.define("fs",function(){}),require.define("/node_modules/cookiejar/package.json",function(e,t){t.exports={main:"cookiejar.js"}}),require.define("/node_modules/cookiejar/cookiejar.js",function(e,t,r){r.CookieAccessInfo=CookieAccessInfo=function o(e,t,r,n){return this instanceof o?(this.domain=e||void 0,this.path=t||"/",this.secure=!!r,this.script=!!n,this):new o(e,t,r,n)},r.Cookie=Cookie=function i(e){return e instanceof i?e:this instanceof i?(this.name=null,this.value=null,this.expiration_date=1/0,this.path="/",this.domain=null,this.secure=!1,this.noscript=!1,e&&this.parse(e),this):new i(e)},Cookie.prototype.toString=function(){var e=[this.name+"="+this.value];return 1/0!==this.expiration_date&&e.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&e.push("domain="+this.domain),this.path&&e.push("path="+this.path),this.secure&&e.push("secure"),this.noscript&&e.push("httponly"),e.join("; ")},Cookie.prototype.toValueString=function(){return this.name+"="+this.value};var n=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;Cookie.prototype.parse=function(e){if(this instanceof Cookie){var t=e.split(";"),r=t[0].match(/([^=]+)=((?:.|\n)*)/),n=r[1],o=r[2];this.name=n,this.value=o;for(var i=1;i<t.length;i++)switch(r=t[i].match(/([^=]+)(?:=((?:.|\n)*))?/),n=r[1].trim().toLowerCase(),o=r[2],n){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=o?Number(Date.parse(o)):1/0;break;case"path":this.path=o?o.trim():"";break;case"domain":this.domain=o?o.trim():"";break;case"secure":this.secure=!0}return this}return(new Cookie).parse(e)},Cookie.prototype.matches=function(e){return this.noscript&&e.script||this.secure&&!e.secure||!this.collidesWith(e)?!1:!0},Cookie.prototype.collidesWith=function(e){if(this.path&&!e.path||this.domain&&!e.domain)return!1;if(this.path&&0!==e.path.indexOf(this.path))return!1;if(this.domain===e.domain)return!0;if(this.domain&&"."===this.domain.charAt(0)){var t=e.domain.indexOf(this.domain.slice(1));if(-1===t||t!==e.domain.length-this.domain.length+1)return!1}else if(this.domain)return!1;return!0},r.CookieJar=CookieJar=function s(){if(this instanceof s){var e={};return this.setCookie=function(t){t=Cookie(t);var r=t.expiration_date<=Date.now();if(t.name in e){for(var n=e[t.name],o=0;o<n.length;o++){var i=n[o];if(i.collidesWith(t))return r?(n.splice(o,1),0===n.length&&delete e[t.name],!1):n[o]=t}return r?!1:(n.push(t),t)}return r?!1:e[t.name]=[t]},this.getCookie=function(t,r){for(var n=e[t],o=0;o<n.length;o++){var i=n[o];if(i.expiration_date<=Date.now())0===n.length&&delete e[i.name];else if(i.matches(r))return i}},this.getCookies=function(t){var r=[];for(var n in e){var o=this.getCookie(n,t);o&&r.push(o)}return r.toString=function(){return r.join(":")},r.toValueString=function(){return r.map(function(e){return e.toValueString()}).join(";")},r},this}return new s},CookieJar.prototype.setCookies=function(e){e=Array.isArray(e)?e:e.split(n);for(var t=[],r=0;r<e.length;r++){var o=Cookie(e[r]);this.setCookie(o)&&t.push(o)}return t}}),require.define("/shred/request.js",function(e,t){var r=e("http"),n=e("https"),o=e("./parseUri"),i=e("events").EventEmitter,s=e("sprintf").sprintf,a=e("./response"),u=e("./mixins/headers"),c=e("./content"),h=r.STATUS_CODES||{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"},f=function(e){this.log=e.logger,this.cookieJar=e.cookieJar,this.encoding=e.encoding,this.logCurl=e.logCurl,d(this,e||{}),p(this)};Object.defineProperties(f.prototype,{url:{get:function(){return this.scheme?s("%s://%s:%s%s",this.scheme,this.host,this.port,(this.proxy?"/":this.path)+(this.query?"?"+this.query:"")):null},set:function(e){return e=o(e),this.scheme=e.protocol,this.host=e.host,this.port=e.port,this.path=e.path,this.query=e.query,this},enumerable:!0},headers:{get:function(){return this.getHeaders()},enumerable:!0},port:{get:function(){if(!this._port)switch(this.scheme){case"https":return this._port=443;case"http":default:return this._port=80}return this._port},set:function(e){return this._port=e,this},enumerable:!0},method:{get:function(){return this._method=this._method||"GET"},set:function(e){return this._method=e,this},enumerable:!0},query:{get:function(){return this._query},set:function(e){var t=function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t=t.slice(0,-1)};return e?("object"==typeof e&&(e=t(e)),this._query=e):this._query="",this},enumerable:!0},parameters:{get:function(){return QueryString.parse(this._query||"")},enumerable:!0},body:{get:function(){return this._body},set:function(e){return this._body=new c({data:e,type:this.getHeader("Content-Type")}),this.setHeader("Content-Type",this.content.type),this.setHeader("Content-Length",this.content.length),this},enumerable:!0},timeout:{get:function(){return this._timeout},set:function(e){var t=0;return e?(t="number"==typeof e?e:(e.milliseconds||0)+1e3*((e.seconds||0)+60*((e.minutes||0)+60*(e.hours||0))),this._timeout=t,this):this},enumerable:!0}}),Object.defineProperty(f.prototype,"content",Object.getOwnPropertyDescriptor(f.prototype,"body")),f.prototype.inspect=function(){var e=this,t=this.format_headers(),r=["<Shred Request> ",e.method.toUpperCase(),e.url].join(" ");return[r,"- Headers:",t].join("\n")},f.prototype.format_headers=function(){var e=[],t=this._headers;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];e.push("	"+r+": "+n)}return e.join("\n")},f.prototype.on=function(e,t){var r=this.emitter;if(1===arguments.length&&"function"==typeof e)r.on("response",e);else if(1===arguments.length&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&r.on(n,e[n]);else r.on(e,t);return this},u.gettersAndSetters(f);var d=function(e,t){if(e.log.debug("Processing request options .."),e.emitter=new i,e.agent=t.agent,t.on)for(var r in t.on)t.on.hasOwnProperty(r)&&e.emitter.on(r,t.on[r]);if(!t.url&&!t.host)return e.emitter.emit("request_error",new Error("No url or url options (host, port, etc.)")),void 0;if(t.url&&(t.proxy?(e.url=t.proxy,e.path=t.url):e.url=t.url),e.query=t.query||t.parameters||e.query,e.method=t.method,e.setHeader("user-agent",t.agent||"Shred"),e.setHeaders(t.headers),e.cookieJar){var n=e.cookieJar.getCookies(CookieAccessInfo(e.host,e.path));if(n.length){for(var o=e.getHeader("cookie")||"",s=0;s<n.length;++s)o.length&&";"!=o[o.length-1]&&(o+=";"),o+=n[s].name+"="+n[s].value+";";e.setHeader("cookie",o)}}(t.body||t.content)&&(e.content=t.body||t.content),e.timeout=t.timeout},p=function(e){var t;e.log.debug("Creating request .."),e.log.debug(e);var o={host:e.host,port:e.port,method:e.method,path:e.path+(e.query?"?"+e.query:""),headers:e.getHeaders(),scheme:e.scheme,agent:e.agent};e.logCurl&&l(e);var i="http"==e.scheme?r:n;e._raw=i.request(o,function(r){e.log.debug("Received response .."),clearTimeout(t),r=new a(r,e,function(t){var r=function(r){var n=e.emitter,o=h[t.status]?h[t.status].toLowerCase():null;n.listeners(t.status).length>0||n.listeners(o).length>0?(n.emit(t.status,t),n.emit(o,t)):n.listeners(r).length>0?n.emit(r,t):t.isRedirect||n.emit("response",t)};t.isRedirect?(e.log.debug("Redirecting to "+t.getHeader("Location")),e.url=t.getHeader("Location"),r("redirect"),p(e)):t.isError?r("error"):r("success")})}),e._raw.on("error",function(t){e.emitter.emit("request_error",t)}),e._raw.on("socket",function(t){e.emitter.emit("socket",t)}),e._raw.on("socket",function(){e._raw.socket.on("timeout",function(){e._raw.abort()})}),e.content&&(e.log.debug("Streaming body: '"+e.content.data.slice(0,59)+"' ... "),e._raw.write(e.content.data)),e.timeout&&(t=setTimeout(function(){e.log.debug("Timeout fired, aborting request ..."),e._raw.abort(),e.emitter.emit("timeout",e)},e.timeout)),e.log.debug("Sending request ..."),e._raw.end()},l=function(e){var t=e.getHeaders(),r="";for(var n in t)r+='-H "'+n+": "+t[n]+'" ';var o="";e.content&&(o+="-d '"+e.content.body+"' ");var i=e.query?"?"+e.query:"";console.log("curl -X "+e.method.toUpperCase()+" "+e.scheme+"://"+e.host+":"+e.port+e.path+i+" "+r+o)};t.exports=f}),require.define("http",function(){}),require.define("https",function(){}),require.define("/shred/parseUri.js",function(e,t){function r(e){for(var t=r.options,n=t.parser[t.strictMode?"strict":"loose"].exec(e),o={},i=14;i--;)o[t.key[i]]=n[i]||"";return o[t.q.name]={},o[t.key[12]].replace(t.q.parser,function(e,r,n){r&&(o[t.q.name][r]=n)}),o}r.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t.exports=r}),require.define("events",function(e,t,r){process.EventEmitter||(process.EventEmitter=function(){});var n=r.EventEmitter=process.EventEmitter,o="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.toString.call(e)},i=10;n.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},n.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);t.apply(this,r)}return!0}if(o(t)){for(var r=Array.prototype.slice.call(arguments,1),n=t.slice(),i=0,s=n.length;s>i;i++)n[i].apply(this,r);return!0}return!1},n.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",e,t),this._events[e])if(o(this._events[e])){if(!this._events[e].warned){var r;r=void 0!==this._events.maxListeners?this._events.maxListeners:i,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];else this._events[e]=t;return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){var r=this;return r.on(e,function n(){r.removeListener(e,n),t.apply(this,arguments)}),this},n.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var r=this._events[e];if(o(r)){var n=r.indexOf(t);if(0>n)return this;r.splice(n,1),0==r.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},n.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},n.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}),require.define("/node_modules/sprintf/package.json",function(e,t){t.exports={main:"./lib/sprintf"}}),require.define("/node_modules/sprintf/lib/sprintf.js",function(e,t,r){var n=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var r=[];t>0;r[--t]=e);return r.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,o){var i,s,a,u,c,h,f,d=1,p=r.length,l="",g=[];for(s=0;p>s;s++)if(l=e(r[s]),"string"===l)g.push(r[s]);else if("array"===l){if(u=r[s],u[2])for(i=o[d],a=0;a<u[2].length;a++){if(!i.hasOwnProperty(u[2][a]))throw n('[sprintf] property "%s" does not exist',u[2][a]);i=i[u[2][a]]}else i=u[1]?o[u[1]]:o[d++];if(/[^s]/.test(u[8])&&"number"!=e(i))throw n("[sprintf] expecting number but found %s",e(i));switch(u[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=u[7]?i.toExponential(u[7]):i.toExponential();break;case"f":i=u[7]?parseFloat(i).toFixed(u[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&u[7]?i.substring(0,u[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(u[8])&&u[3]&&i>=0?"+"+i:i,h=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",f=u[6]-String(i).length,c=u[6]?t(h,f):"",g.push(u[5]?i+c:c+i)}return g.join("")},r.cache={},r.parse=function(e){for(var t=e,r=[],n=[],o=0;t;){if(null!==(r=/^[^\x25]+/.exec(t)))n.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(r[2]){o|=1;var i=[],s=r[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(i.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))i.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";i.push(a[1])}r[2]=i}else o|=2;if(3===o)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";n.push(r)}t=t.substring(r[0].length)}return n},r}(),o=function(e,t){return t.unshift(e),n.apply(null,t)};r.sprintf=n,r.vsprintf=o}),require.define("/shred/response.js",function(e,t){var r=e("./content"),n=e("./mixins/headers"),o=e("cookiejar"),i=o.Cookie,s=null;try{s=e("zlib")}catch(a){console.warn("no zlib library")}var u=null;try{u=e("iconv-lite")}catch(a){console.warn("no iconv library")}var c=function(e,t,n){var o=this;if(this._raw=e,this._setHeaders.call(this,e.headers),t.cookieJar&&this.getHeader("set-cookie")){for(var a,c=this.getHeader("set-cookie"),h=[],f=0;f<c.length;f++){var d=c[f];if(d){d.match(/domain\=/i)||(d+="; domain="+t.host),d.match(/path\=/i)||(d+="; path="+t.path);try{a=new i(d),a&&h.push(a)}catch(p){console.warn("Tried to set bad cookie: "+d)}}}t.cookieJar.setCookies(h)}this.request=t,this.client=t.client,this.log=this.request.log;var l=[],g=0;e.on("data",function(e){l.push(e),g+=e.length}),e.on("end",function(){var e;if("undefined"==typeof Buffer)e=l.join("");else{e=new Buffer(g);for(var t=0,i=0;t<l.length;t++)l[t].copy(e,i),i+=l[t].length}var a=function(e){o._body=new r({body:e,type:o.getHeader("Content-Type")}),n(o)};s&&"gzip"===o.getHeader("Content-Encoding")?s.gunzip(e,function(t,r){e=u&&o.request.encoding?u.fromEncoding(r,o.request.encoding):r.toString(),a(e)}):(o.request.encoding&&(e=u.fromEncoding(e,o.request.encoding)),a(e))})};c.prototype={inspect:function(){var e=this,t=this.format_headers(),r=["<Shred Response> ",e.status].join(" ");return[r,"- Headers:",t].join("\n")},format_headers:function(){var e=[],t=this._headers;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];e.push("	"+r+": "+n)}return e.join("\n")}},Object.defineProperties(c.prototype,{status:{get:function(){return this._raw.statusCode},enumerable:!0},body:{get:function(){return this._body}},content:{get:function(){return this.body},enumerable:!0},isRedirect:{get:function(){return this.status>299&&this.status<400&&this.getHeader("Location")},enumerable:!0},isError:{get:function(){return 0===this.status||this.status>399},enumerable:!0}}),n.getters(c),n.privateSetters(c);var h=c.prototype.getHeader;c.prototype.getHeader=function(e){return h.call(this,e)||"function"==typeof this._raw.getHeader&&this._raw.getHeader(e)},t.exports=c}),require.define("/shred/content.js",function(e,t){var r=function(e){this.body=e.body,this.data=e.data,this.type=e.type};r.prototype={},Object.defineProperties(r.prototype,{type:{get:function(){if(this._type)return this._type;if(this._data)switch(typeof this._data){case"string":return"text/plain";case"object":return"application/json"}return"text/plain"},set:function(e){return this._type=e,this},enumerable:!0},data:{get:function(){return this._body?this.processor.parser(this._body):this._data},set:function(e){return this._body&&e&&i.setDataWithBody(this),this._data=e,this},enumerable:!0},body:{get:function(){return this._data?this.processor.stringify(this._data):this.processor.stringify(this._body)},set:function(e){return this._data&&e&&i.setBodyWithData(this),this._body=e,this},enumerable:!0},processor:{get:function(){var e=r.processors[this.type];if(e)return e;for(var t=this.type.split(";")[0],i=t.split(/\+|\//),s=0,a=i.length;a>s;s++)e=r.processors[i[s]];return e||{parser:n,stringify:o}},enumerable:!0},length:{get:function(){return"undefined"!=typeof Buffer?Buffer.byteLength(this.body):this.body.length}}}),r.processors={},r.registerProcessor=function(e,t){e.forEach?e.forEach(function(e){r.processors[e]=t}):r.processors[e]=t};var n=function(e){return e},o=function(e){return e.toString()};r.registerProcessor(["text/html","text/plain","text"],{parser:n,stringify:o}),r.registerProcessor(["application/json; charset=utf-8","application/json","json"],{parser:function(e){return JSON.parse(e)},stringify:function(e){return JSON.stringify(e)}});var i={setDataWithBody:function(){throw new Error("Attempt to set data attribute of a content object when the body attributes was already set.")},setBodyWithData:function(){throw new Error("Attempt to set body attribute of a content object when the data attributes was already set.")}};t.exports=r}),require.define("/shred/mixins/headers.js",function(e,t){var r=function(e){return e.toLowerCase().replace(/(^|-)(\w)/g,function(e){return e.toUpperCase()})},n=function(){return{}},o=function(e){return e._headers||(e._headers=n(e))},i=function(e,t){return o(e)[r(t)]},s=function(e,t){var r=t&&t.length>0?t:Object.keys(o(e)),n=r.reduce(function(t,r){return t[r]=i(e,r),t},{});return Object.freeze(n),n},a=function(e,t,n){return o(e)[r(t)]=n,e},u=function(e,t){for(var r in t)a(e,r,t[r]);return this};t.exports={getters:function(e){e.prototype.getHeader=function(e){return i(this,e)},e.prototype.getHeaders=function(){return s(this,arguments)}},privateSetters:function(e){e.prototype._setHeader=function(e,t){return a(this,e,t)},e.prototype._setHeaders=function(e){return u(this,e)}},setters:function(e){e.prototype.setHeader=function(e,t){return a(this,e,t)},e.prototype.setHeaders=function(e){return u(this,e)}},gettersAndSetters:function(e){e.prototype.getHeader=function(e){return i(this,e)},e.prototype.getHeaders=function(){return s(this,arguments)},e.prototype.setHeader=function(e,t){return a(this,e,t)},e.prototype.setHeaders=function(e){return u(this,e)}}}}),require.define("/node_modules/iconv-lite/package.json",function(e,t){t.exports={}}),require.define("/node_modules/iconv-lite/index.js",function(e,t,r,n){var o=t.exports={toEncoding:function(e,t){return o.getCodec(t).toEncoding(e)},fromEncoding:function(e,t){return o.getCodec(t).fromEncoding(e)},defaultCharUnicode:"�",defaultCharSingleByte:"?",getCodec:function(e){for(var t=e||"utf8",r=void 0;;){"String"===h(t)&&(t=t.replace(/[- ]/g,"").toLowerCase());var n=o.encodings[t],i=h(n);if("String"===i)r={originalEncoding:t},t=n;else{if("Object"!==i||void 0==n.type){if("Function"===i)return n(r);throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}r=n,t=n.type}}},encodings:{internal:function(e){return{toEncoding:function(t){return new Buffer(c(t),e.originalEncoding)},fromEncoding:function(t){return u(t).toString(e.originalEncoding)}}},utf8:"internal",ucs2:"internal",binary:"internal",ascii:"internal",base64:"internal",singlebyte:function(e){if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length&&(e.chars=a+e.chars),e.charsBuf||(e.charsBuf=new Buffer(e.chars,"ucs2")),!e.revCharsBuf){e.revCharsBuf=new Buffer(65536);for(var t=o.defaultCharSingleByte.charCodeAt(0),r=0;r<e.revCharsBuf.length;r++)e.revCharsBuf[r]=t;for(var r=0;r<e.chars.length;r++)e.revCharsBuf[e.chars.charCodeAt(r)]=r}return{toEncoding:function(t){t=c(t);for(var r=new Buffer(t.length),n=e.revCharsBuf,o=0;o<t.length;o++)r[o]=n[t.charCodeAt(o)];return r},fromEncoding:function(t){t=u(t);for(var r=e.charsBuf,n=new Buffer(2*t.length),o=0,i=0,s=0,a=t.length;a>s;s++)o=2*t[s],i=2*s,n[i]=r[o],n[i+1]=r[o+1];return n.toString("ucs2")}}},table:function(e){var t,r=e.table,n=e.revCharsTable;if(!r)throw new Error("Encoding '"+e.type+"' has incorect 'table' option");if(!n){n=e.revCharsTable={};for(t in r)n[r[t]]=parseInt(t)}return{toEncoding:function(e){e=c(e);for(var t=e.length,r=t,i=0;t>i;i++)e.charCodeAt(i)>>7&&r++;for(var s,a,u=new Buffer(r),h=n[o.defaultCharUnicode.charCodeAt(0)],i=0,f=0;t>i;i++)a=e.charCodeAt(i),a>>7?(s=n[a]||h,u[f++]=s>>8,u[f++]=255&s):u[f++]=a;return u},fromEncoding:function(e){e=u(e);for(var t=e.length,n=0,i=0;t>i;i++)n++,128&e[i]&&i++;for(var s,a,c=new Buffer(2*n),h=o.defaultCharUnicode.charCodeAt(0),i=0,f=0;t>i;i++,f+=2)a=e[i],128&a?(a=(a<<8)+e[++i],s=r[a]||h):s=a,c[f]=255&s,c[f+1]=s>>8;return c.toString("ucs2")}}}}};o.encode=o.toEncoding,o.decode=o.fromEncoding;var i=n+"/encodings/",s=e("fs");s.readdirSync(i).forEach(function(t){if(!s.statSync(i+t).isDirectory()){var r=e(i+t);for(var n in r)o.encodings[n]=r[n]}});var a="\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",u=function(e){return e=e||new Buffer(0),e instanceof Buffer?e:new Buffer(e.toString(),"utf8")},c=function(e){return e=e||"",e instanceof String?e:e.toString(e instanceof Buffer?"utf8":void 0)},h=function(e){return Object.prototype.toString.call(e).slice(8,-1)}}),require.define("/node_modules/http-browserify/package.json",function(e,t){t.exports={main:"index.js",browserify:"browser.js"}}),require.define("/node_modules/http-browserify/browser.js",function(e,t){var r=t.exports,n=(e("events").EventEmitter,e("./lib/request"));r.request=function(e,t){e||(e={}),e.host||(e.host=window.location.host.split(":")[0]),e.port||(e.port=window.location.port);var r=new n(new o,e);return t&&r.on("response",t),r},r.get=function(e,t){e.method="GET";var n=r.request(e,t);return n.end(),n};var o=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var r=new window.ActiveXObject(e[t]);return function(){if(r){var n=r;return r=null,n}return new window.ActiveXObject(e[t])}}catch(n){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended"}}),require.define("/node_modules/http-browserify/lib/request.js",function(e,t){var r=e("events").EventEmitter,n=e("./response"),o=e("./isSafeHeader"),i=t.exports=function(e,t){var r=this;r.xhr=e,r.body="";var i=t.host+":"+t.port+(t.path||"/");e.open(t.method||"GET",(t.scheme||"http")+"://"+i,!0),t.headers&&Object.keys(t.headers).forEach(function(r){if(o(r)){var n=t.headers[r];Array.isArray(n)?n.forEach(function(t){e.setRequestHeader(r,t)}):e.setRequestHeader(r,n)}});var s=new n(e);s.on("ready",function(){r.emit("response",s)}),e.onreadystatechange=function(){s.handle(e)
}};i.prototype=new r,i.prototype.setHeader=function(e,t){if(Array.isArray&&Array.isArray(t)||t instanceof Array)for(var r=0;r<t.length;r++)this.xhr.setRequestHeader(e,t[r]);else this.xhr.setRequestHeader(e,t)},i.prototype.write=function(e){this.body+=e},i.prototype.end=function(e){void 0!==e&&this.write(e),this.xhr.send(this.body)}}),require.define("/node_modules/http-browserify/lib/response.js",function(e,t){function r(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),r={},n=0;n<t.length;n++){var o=t[n];if(""!==o){var i=o.match(/^([^:]+):\s*(.*)/);if(i){var s=i[1].toLowerCase(),a=i[2];void 0!==r[s]?Array.isArray&&Array.isArray(r[s])||r[s]instanceof Array?r[s].push(a):r[s]=[r[s],a]:r[s]=a}else r[o]=!0}}return r}var n=e("events").EventEmitter,o=e("./isSafeHeader"),i=t.exports=function(e){this.xhr=e,this.offset=0};i.prototype=new n;var s={streaming:!0,status2:!0};i.prototype.getHeader=function(e){var t=this.headers?this.headers[e.toLowerCase()]:null;return t?t:o(e)?this.xhr.getResponseHeader(e):null},i.prototype.handle=function(){var e=this.xhr;if(2===e.readyState&&s.status2){try{this.statusCode=e.status,this.headers=r(e)}catch(t){s.status2=!1}s.status2&&this.emit("ready")}else if(s.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=r(e),this.emit("ready"))}catch(t){}try{this.write()}catch(t){s.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this.write(),e.error?this.emit("error",e.responseText):this.emit("end"))},i.prototype.write=function(){var e=this.xhr;e.responseText.length>this.offset&&(this.emit("data",e.responseText.slice(this.offset)),this.offset=e.responseText.length)}}),require.define("/node_modules/http-browserify/lib/isSafeHeader.js",function(e,t){var r=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","set-cookie","te","trailer","transfer-encoding","upgrade","user-agent","via"];t.exports=function(e){return e?-1===r.indexOf(e.toLowerCase()):!1}}),require.alias("http-browserify","/node_modules/http"),require.alias("http-browserify","/node_modules/https");